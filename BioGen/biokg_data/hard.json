[
    [
        {
            "name": "sortBed",
            "desc": "Sort peaks",
            "version": "2.30",
            "cmd_template": "sortBed -i <input.bed> > <step1.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedtools merge",
            "desc": "Merge nearby peaks",
            "version": "2.30",
            "cmd_template": "bedtools merge -d 50 -i <step1.bed> > <step2.bed>",
            "input_type": "BED"
        },
        {
            "name": "awk",
            "desc": "Convert to custom format (mock narrowPeak)",
            "version": "gnu",
            "cmd_template": "awk '{print $1\"\t\"$2\"\t\"$3\"\tpeak_\"NR}' <step2.bed> > <step3.narrowPeak>",
            "input_type": "BED"
        },
        {
            "name": "bedtools intersect",
            "desc": "Filter against blacklist",
            "version": "2.30",
            "cmd_template": "bedtools intersect -v -a <step3.narrowPeak> -b <blacklist.bed> > <step4.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedToBigBed",
            "desc": "Convert to BigBed",
            "version": "377",
            "cmd_template": "bedToBigBed <step4.bed> <chrom.sizes> <step5.bb>",
            "input_type": "BED"
        },
        {
            "name": "bigBedToBed",
            "desc": "Convert back for verification",
            "version": "377",
            "cmd_template": "bigBedToBed <step5.bb> <step6.bed>",
            "input_type": "BigBed"
        },
        {
            "name": "wc",
            "desc": "Validation: Count peaks",
            "version": "8.32",
            "cmd_template": "wc -l <step6.bed>",
            "input_type": "BED"
        }
    ],
    [
        {
            "name": "gtfToGenePred",
            "desc": "Convert GTF to GenePred",
            "version": "377",
            "cmd_template": "gtfToGenePred -genePredExt <input.gtf> <step1.gp>",
            "input_type": "GTF"
        },
        {
            "name": "genePredToBed",
            "desc": "Convert GenePred to BED12",
            "version": "377",
            "cmd_template": "genePredToBed <step1.gp> <step2.bed>",
            "input_type": "GenePred"
        },
        {
            "name": "sortBed",
            "desc": "Sort BED file by chromosome/start",
            "version": "2.30",
            "cmd_template": "sortBed -i <step2.bed> > <step3.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedtools merge",
            "desc": "Merge overlapping intervals",
            "version": "2.30",
            "cmd_template": "bedtools merge -i <step3.bed> > <step4.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedtools complement",
            "desc": "Find intergenic regions",
            "version": "2.30",
            "cmd_template": "bedtools complement -i <step4.bed> -g <chrom.sizes> > <step5.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedToBigBed",
            "desc": "Convert BED to binary BigBed",
            "version": "377",
            "cmd_template": "bedToBigBed <step5.bed> <chrom.sizes> <step6.bb>",
            "input_type": "BED"
        },
        {
            "name": "bigBedInfo",
            "desc": "Validation: Get summary stats of BigBed",
            "version": "377",
            "cmd_template": "bigBedInfo <step6.bb>",
            "input_type": "BigBed"
        }
    ],
    [
        {
            "name": "samtools faidx",
            "desc": "Index reference FASTA",
            "version": "1.10",
            "cmd_template": "samtools faidx <input.fa>",
            "input_type": "FASTA"
        },
        {
            "name": "picard CreateSequenceDictionary",
            "desc": "Create SAM dict",
            "version": "2.25",
            "cmd_template": "java -jar picard.jar CreateSequenceDictionary R=<input.fa> O=<step2.dict>",
            "input_type": "FASTA"
        },
        {
            "name": "bwa index",
            "desc": "Create BWA aligner index",
            "version": "0.7.17",
            "cmd_template": "bwa index <input.fa>",
            "input_type": "FASTA"
        },
        {
            "name": "makeblastdb",
            "desc": "Create BLAST database",
            "version": "2.10",
            "cmd_template": "makeblastdb -in <input.fa> -dbtype nucl -out <step4.db>",
            "input_type": "FASTA"
        },
        {
            "name": "faToTwoBit",
            "desc": "Convert FASTA to 2bit",
            "version": "377",
            "cmd_template": "faToTwoBit <input.fa> <step5.2bit>",
            "input_type": "FASTA"
        },
        {
            "name": "twoBitInfo",
            "desc": "Validation: Verify 2bit integrity",
            "version": "377",
            "cmd_template": "twoBitInfo <step5.2bit> <output.txt>",
            "input_type": "2bit"
        }
    ],
    [
        {
            "name": "bcftools view",
            "desc": "Convert/Subset VCF",
            "version": "1.10",
            "cmd_template": "bcftools view <input.vcf> -o <step1.vcf>",
            "input_type": "VCF"
        },
        {
            "name": "bcftools norm",
            "desc": "Normalize indels",
            "version": "1.10",
            "cmd_template": "bcftools norm -f <ref.fa> <step1.vcf> -o <step2.vcf>",
            "input_type": "VCF"
        },
        {
            "name": "bcftools filter",
            "desc": "Filter variants by quality",
            "version": "1.10",
            "cmd_template": "bcftools filter -e 'QUAL<20' <step2.vcf> -o <step3.vcf>",
            "input_type": "VCF"
        },
        {
            "name": "bcftools sort",
            "desc": "Sort VCF",
            "version": "1.10",
            "cmd_template": "bcftools sort <step3.vcf> -o <step4.vcf>",
            "input_type": "VCF"
        },
        {
            "name": "bgzip",
            "desc": "Compress VCF",
            "version": "1.10",
            "cmd_template": "bgzip -c <step4.vcf> > <step5.vcf.gz>",
            "input_type": "VCF"
        },
        {
            "name": "tabix",
            "desc": "Index compressed VCF",
            "version": "1.10",
            "cmd_template": "tabix -p vcf <step5.vcf.gz>",
            "input_type": "VCF.gz"
        },
        {
            "name": "bcftools stats",
            "desc": "Validation: Generate VCF statistics",
            "version": "1.10",
            "cmd_template": "bcftools stats <step5.vcf.gz>",
            "input_type": "VCF.gz"
        }
    ],
    [
        {
            "name": "samtools view",
            "desc": "Convert SAM to BAM",
            "version": "1.10",
            "cmd_template": "samtools view -bS <input.sam> > <step1.bam>",
            "input_type": "SAM"
        },
        {
            "name": "samtools sort",
            "desc": "Sort BAM by coordinate",
            "version": "1.10",
            "cmd_template": "samtools sort <step1.bam> -o <step2.bam>",
            "input_type": "BAM"
        },
        {
            "name": "picard MarkDuplicates",
            "desc": "Mark PCR duplicates",
            "version": "2.25",
            "cmd_template": "java -jar picard.jar MarkDuplicates I=<step2.bam> O=<step3.bam> M=metrics.txt",
            "input_type": "BAM"
        },
        {
            "name": "samtools index",
            "desc": "Index BAM",
            "version": "1.10",
            "cmd_template": "samtools index <step3.bam>",
            "input_type": "BAM"
        },
        {
            "name": "samtools calmd",
            "desc": "Calculate MD tag",
            "version": "1.10",
            "cmd_template": "samtools calmd -b <step3.bam> <ref.fa> > <step5.bam>",
            "input_type": "BAM"
        },
        {
            "name": "samtools flagstat",
            "desc": "Calculate alignment stats",
            "version": "1.10",
            "cmd_template": "samtools flagstat <step5.bam> > <step6.txt>",
            "input_type": "BAM"
        },
        {
            "name": "samtools view_header",
            "desc": "Validation: Check BAM header",
            "version": "1.10",
            "cmd_template": "samtools view -H <step5.bam>",
            "input_type": "BAM"
        }
    ],
    [
        {
            "name": "sortBed",
            "desc": "Sort input BED",
            "version": "2.30",
            "cmd_template": "sortBed -i <input.bed> > <step1.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedtools slop",
            "desc": "Extend intervals",
            "version": "2.30",
            "cmd_template": "bedtools slop -i <step1.bed> -g <chrom.sizes> -b 50 > <step2.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedtools flank",
            "desc": "Get flanking regions",
            "version": "2.30",
            "cmd_template": "bedtools flank -i <step2.bed> -g <chrom.sizes> -b 20 > <step3.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedtools merge",
            "desc": "Merge overlapping flanks",
            "version": "2.30",
            "cmd_template": "bedtools merge -i <step3.bed> > <step4.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedtools shuffle",
            "desc": "Permute intervals randomly",
            "version": "2.30",
            "cmd_template": "bedtools shuffle -i <step4.bed> -g <chrom.sizes> > <step5.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedtools intersect",
            "desc": "Validation: Check overlap with original",
            "version": "2.30",
            "cmd_template": "bedtools intersect -a <input.bed> -b <step5.bed>",
            "input_type": "BED"
        }
    ],
    [
        {
            "name": "makeblastdb",
            "desc": "Make Protein BLAST DB",
            "version": "2.10",
            "cmd_template": "makeblastdb -in <input.fasta> -dbtype prot -out <step1.db>",
            "input_type": "FASTA"
        },
        {
            "name": "clustalo",
            "desc": "Multiple sequence alignment",
            "version": "1.2.4",
            "cmd_template": "clustalo -i <input.fasta> -o <step2.aln> --auto",
            "input_type": "FASTA"
        },
        {
            "name": "hmmbuild",
            "desc": "Build HMM profile",
            "version": "3.3",
            "cmd_template": "hmmbuild <step3.hmm> <step2.aln>",
            "input_type": "MSA"
        },
        {
            "name": "hmmpress",
            "desc": "Compress HMM database",
            "version": "3.3",
            "cmd_template": "hmmpress <step3.hmm>",
            "input_type": "HMM"
        },
        {
            "name": "hmmscan",
            "desc": "Scan sequence against HMM DB",
            "version": "3.3",
            "cmd_template": "hmmscan --tblout <step5.tbl> <step3.hmm> <input.fasta>",
            "input_type": "FASTA"
        },
        {
            "name": "esl-seqstat",
            "desc": "Validation: Sequence statistics",
            "version": "3.3",
            "cmd_template": "esl-seqstat <input.fasta>",
            "input_type": "FASTA"
        }
    ],
    [
        {
            "name": "fastqc",
            "desc": "Initial Quality Control",
            "version": "0.11.9",
            "cmd_template": "fastqc <input_R1.fastq> <input_R2.fastq>",
            "input_type": "FASTQ"
        },
        {
            "name": "trimmomatic",
            "desc": "Trim adapters and low quality bases",
            "version": "0.39",
            "cmd_template": "java -jar trimmomatic.jar PE <input_R1.fastq> <input_R2.fastq> <step2_1.fq> <unpaired1> <step2_2.fq> <unpaired2> LEADING:3 TRAILING:3",
            "input_type": "FASTQ"
        },
        {
            "name": "seqtk sample",
            "desc": "Subsample reads",
            "version": "1.3",
            "cmd_template": "seqtk sample -s100 <step2_1.fq> 1000 > <step3_1.fq>",
            "input_type": "FASTQ"
        },
        {
            "name": "seqtk mergepe",
            "desc": "Interleave paired reads",
            "version": "1.3",
            "cmd_template": "seqtk mergepe <step3_1.fq> <step2_2.fq> > <step4.fq>",
            "input_type": "FASTQ"
        },
        {
            "name": "seqtk seq",
            "desc": "Convert FASTQ to FASTA",
            "version": "1.3",
            "cmd_template": "seqtk seq -A <step4.fq> > <step5.fa>",
            "input_type": "FASTQ"
        },
        {
            "name": "gzip",
            "desc": "Compress FASTA",
            "version": "1.10",
            "cmd_template": "gzip <step5.fa>",
            "input_type": "FASTA"
        },
        {
            "name": "seqkit stats",
            "desc": "Validation: Statistics of final file",
            "version": "0.16",
            "cmd_template": "seqkit stats <step5.fa.gz>",
            "input_type": "FASTA.gz"
        }
    ],
    [
        {
            "name": "sdust",
            "desc": "Mask low complexity regions",
            "version": "0.1",
            "cmd_template": "sdust <input.fa> > <step1.bed>",
            "input_type": "FASTA"
        },
        {
            "name": "seqkit rmdup",
            "desc": "Remove duplicate sequences",
            "version": "0.16",
            "cmd_template": "seqkit rmdup -s <input.fa> -o <step2.fa>",
            "input_type": "FASTA"
        },
        {
            "name": "kraken2-build",
            "desc": "Add to library",
            "version": "2.1.1",
            "cmd_template": "kraken2-build --add-to-library <step2.fa> --db <step3_db>",
            "input_type": "FASTA"
        },
        {
            "name": "kraken2-build_build",
            "desc": "Build Kraken DB",
            "version": "2.1.1",
            "cmd_template": "kraken2-build --build --db <step3_db>",
            "input_type": "DB_Dir"
        },
        {
            "name": "bracken-build",
            "desc": "Build Bracken files",
            "version": "2.6",
            "cmd_template": "bracken-build -d <step3_db> -l 150",
            "input_type": "DB_Dir"
        },
        {
            "name": "kraken2-inspect",
            "desc": "Validation: Inspect DB report",
            "version": "2.1.1",
            "cmd_template": "kraken2-inspect --db <step3_db>",
            "input_type": "DB_Dir"
        }
    ],
    [
        {
            "name": "sortBed",
            "desc": "Sort peaks",
            "version": "2.30",
            "cmd_template": "sortBed -i <input.bed> > <step1.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedtools merge",
            "desc": "Merge nearby peaks",
            "version": "2.30",
            "cmd_template": "bedtools merge -d 50 -i <step1.bed> > <step2.bed>",
            "input_type": "BED"
        },
        {
            "name": "awk",
            "desc": "Convert to custom format (mock narrowPeak)",
            "version": "gnu",
            "cmd_template": "awk '{print $1\"\t\"$2\"\t\"$3\"\tpeak_\"NR}' <step2.bed> > <step3.narrowPeak>",
            "input_type": "BED"
        },
        {
            "name": "bedtools intersect",
            "desc": "Filter against blacklist",
            "version": "2.30",
            "cmd_template": "bedtools intersect -v -a <step3.narrowPeak> -b <blacklist.bed> > <step4.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedToBigBed",
            "desc": "Convert to BigBed",
            "version": "377",
            "cmd_template": "bedToBigBed <step4.bed> <chrom.sizes> <step5.bb>",
            "input_type": "BED"
        },
        {
            "name": "bigBedToBed",
            "desc": "Convert back for verification",
            "version": "377",
            "cmd_template": "bigBedToBed <step5.bb> <step6.bed>",
            "input_type": "BigBed"
        },
        {
            "name": "wc",
            "desc": "Validation: Count peaks",
            "version": "8.32",
            "cmd_template": "wc -l <step6.bed>",
            "input_type": "BED"
        }
    ],
    [
        {
            "name": "minimap2",
            "desc": "Align long reads to reference",
            "version": "2.17",
            "cmd_template": "minimap2 -ax map-ont <ref.fa> <input.fq> > <step1.sam>",
            "input_type": "FASTQ"
        },
        {
            "name": "samtools sort",
            "desc": "Sort alignment",
            "version": "1.10",
            "cmd_template": "samtools sort <step1.sam> -o <step2.bam>",
            "input_type": "SAM"
        },
        {
            "name": "samtools index",
            "desc": "Index BAM",
            "version": "1.10",
            "cmd_template": "samtools index <step2.bam>",
            "input_type": "BAM"
        },
        {
            "name": "bedtools bamtobed",
            "desc": "Convert BAM to BED",
            "version": "2.30",
            "cmd_template": "bedtools bamtobed -i <step2.bam> > <step4.bed>",
            "input_type": "BAM"
        },
        {
            "name": "bedtools getfasta",
            "desc": "Extract sequences from regions",
            "version": "2.30",
            "cmd_template": "bedtools getfasta -fi <ref.fa> -bed <step4.bed> > <step5.fa>",
            "input_type": "BED"
        },
        {
            "name": "seqkit fx2tab",
            "desc": "Validation: Tabular summary",
            "version": "0.16",
            "cmd_template": "seqkit fx2tab <step5.fa>",
            "input_type": "FASTA"
        }
    ],
    [
        {
            "name": "bcftools annotate",
            "desc": "Annotate VCF with IDs",
            "version": "1.10",
            "cmd_template": "bcftools annotate --set-id +'%CHROM\\_%POS' <input.vcf> -o <step1.vcf>",
            "input_type": "VCF"
        },
        {
            "name": "bcftools plugin",
            "desc": "Run missing gene plugin (mock)",
            "version": "1.10",
            "cmd_template": "bcftools plugin fill-tags <step1.vcf> -o <step2.vcf>",
            "input_type": "VCF"
        },
        {
            "name": "bcftools query",
            "desc": "Extract fields",
            "version": "1.10",
            "cmd_template": "bcftools query -f '%CHROM\t%POS\t%REF\t%ALT\n' <step2.vcf> > <step3.tsv>",
            "input_type": "VCF"
        },
        {
            "name": "bgzip",
            "desc": "Compress TSV",
            "version": "1.10",
            "cmd_template": "bgzip <step3.tsv>",
            "input_type": "TSV"
        },
        {
            "name": "tabix",
            "desc": "Index TSV",
            "version": "1.10",
            "cmd_template": "tabix -s1 -b2 -e2 <step3.tsv.gz>",
            "input_type": "TSV.gz"
        },
        {
            "name": "zcat",
            "desc": "Validation: Peek at compressed data",
            "version": "1.10",
            "cmd_template": "zcat <step3.tsv.gz> | head",
            "input_type": "TSV.gz"
        }
    ],
    [
        {
            "name": "nucmer",
            "desc": "Align assembly to reference",
            "version": "4.0",
            "cmd_template": "nucmer --prefix=out <ref.fa> <input.fa>",
            "input_type": "FASTA"
        },
        {
            "name": "delta-filter",
            "desc": "Filter alignment delta",
            "version": "4.0",
            "cmd_template": "delta-filter -1 out.delta > <step2.delta>",
            "input_type": "Delta"
        },
        {
            "name": "show-coords",
            "desc": "Convert delta to coords",
            "version": "4.0",
            "cmd_template": "show-coords -rcl <step2.delta> > <step3.coords>",
            "input_type": "Delta"
        },
        {
            "name": "mummerplot",
            "desc": "Generate dotplot script",
            "version": "4.0",
            "cmd_template": "mummerplot --png <step2.delta>",
            "input_type": "Delta"
        },
        {
            "name": "dnadiff",
            "desc": "Detailed differences",
            "version": "4.0",
            "cmd_template": "dnadiff -d <step2.delta>",
            "input_type": "Delta"
        },
        {
            "name": "head",
            "desc": "Validation: Check report header",
            "version": "8.32",
            "cmd_template": "head -n 20 out.report",
            "input_type": "Report"
        }
    ],
    [
        {
            "name": "csvtool col",
            "desc": "Extract intensity columns",
            "version": "1.0",
            "cmd_template": "csvtool col 3,4,5 <input.csv> > <step1.csv>",
            "input_type": "CSV"
        },
        {
            "name": "sed",
            "desc": "Format cleanup",
            "version": "4.8",
            "cmd_template": "sed 's/\"//g' <step1.csv> > <step2.csv>",
            "input_type": "CSV"
        },
        {
            "name": "awk",
            "desc": "Filter low intensity",
            "version": "gnu",
            "cmd_template": "awk '$1 > 1000' <step2.csv> > <step3.csv>",
            "input_type": "CSV"
        },
        {
            "name": "sort",
            "desc": "Sort by intensity",
            "version": "8.32",
            "cmd_template": "sort -nr <step3.csv> > <step4.csv>",
            "input_type": "CSV"
        },
        {
            "name": "uniq",
            "desc": "Remove duplicate entries",
            "version": "8.32",
            "cmd_template": "uniq <step4.csv> > <step5.csv>",
            "input_type": "CSV"
        },
        {
            "name": "wc",
            "desc": "Validation: Count filtered metabolites",
            "version": "8.32",
            "cmd_template": "wc -l <step5.csv>",
            "input_type": "CSV"
        }
    ],
    [
        {
            "name": "samtools faidx",
            "desc": "Index FASTA",
            "version": "1.10",
            "cmd_template": "samtools faidx <input.fa>",
            "input_type": "FASTA"
        },
        {
            "name": "awk",
            "desc": "Generate random windows from FAI",
            "version": "gnu",
            "cmd_template": "awk '{print $1\"\t0\t\"$2}' <input.fa.fai> > <step2.bed>",
            "input_type": "FAI"
        },
        {
            "name": "bedtools makewindows",
            "desc": "Split into windows",
            "version": "2.30",
            "cmd_template": "bedtools makewindows -b <step2.bed> -w 1000 > <step3.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedtools getfasta",
            "desc": "Extract window sequences",
            "version": "2.30",
            "cmd_template": "bedtools getfasta -fi <input.fa> -bed <step3.bed> > <step4.fa>",
            "input_type": "BED"
        },
        {
            "name": "bedtools maskfasta",
            "desc": "Mask soft repeats",
            "version": "2.30",
            "cmd_template": "bedtools maskfasta -fi <step4.fa> -bed <step3.bed> -fo <step5.fa>",
            "input_type": "FASTA"
        },
        {
            "name": "seqkit stats",
            "desc": "Validation: Check masked file",
            "version": "0.16",
            "cmd_template": "seqkit stats <step5.fa>",
            "input_type": "FASTA"
        }
    ],
    [
        {
            "name": "seqtk seq",
            "desc": "Convert to FASTA for easier parsing",
            "version": "1.3",
            "cmd_template": "seqtk seq -A <input.fastq> > <step1.fa>",
            "input_type": "FASTQ"
        },
        {
            "name": "grep",
            "desc": "Extract header lines",
            "version": "3.4",
            "cmd_template": "grep '>' <step1.fa> > <step2.txt>",
            "input_type": "FASTA"
        },
        {
            "name": "cut",
            "desc": "Extract barcode field (mock)",
            "version": "8.32",
            "cmd_template": "cut -d':' -f 1 <step2.txt> > <step3.txt>",
            "input_type": "TXT"
        },
        {
            "name": "sort",
            "desc": "Sort barcodes",
            "version": "8.32",
            "cmd_template": "sort <step3.txt> > <step4.txt>",
            "input_type": "TXT"
        },
        {
            "name": "uniq",
            "desc": "Count unique barcodes",
            "version": "8.32",
            "cmd_template": "uniq -c <step4.txt> > <step5.txt>",
            "input_type": "TXT"
        },
        {
            "name": "sort",
            "desc": "Sort by abundance",
            "version": "8.32",
            "cmd_template": "sort -nr <step5.txt> > <step6.txt>",
            "input_type": "TXT"
        },
        {
            "name": "head",
            "desc": "Validation: Top barcodes",
            "version": "8.32",
            "cmd_template": "head <step6.txt>",
            "input_type": "TXT"
        }
    ],
    [
        {
            "name": "cut",
            "desc": "Convert BEDPE to BED (left end)",
            "version": "8.32",
            "cmd_template": "cut -f 1-3 <input.bedpe> > <step1.bed>",
            "input_type": "BEDPE"
        },
        {
            "name": "sortBed",
            "desc": "Sort Left Ends",
            "version": "2.30",
            "cmd_template": "sortBed -i <step1.bed> > <step2.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedtools closest",
            "desc": "Find closest gene",
            "version": "2.30",
            "cmd_template": "bedtools closest -a <step2.bed> -b <genes.bed> > <step3.bed>",
            "input_type": "BED"
        },
        {
            "name": "awk",
            "desc": "Filter distance < 1kb",
            "version": "gnu",
            "cmd_template": "awk '$NF < 1000' <step3.bed> > <step4.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedtools merge",
            "desc": "Merge SV hotspots",
            "version": "2.30",
            "cmd_template": "bedtools merge -i <step4.bed> > <step5.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedtools annotate",
            "desc": "Validation: Annotate results",
            "version": "2.30",
            "cmd_template": "bedtools annotate -i <step5.bed> -files <genes.bed>",
            "input_type": "BED"
        }
    ],
    [
        {
            "name": "muscle",
            "desc": "Multiple Sequence Alignment",
            "version": "3.8",
            "cmd_template": "muscle -in <input.fa> -out <step1.aln>",
            "input_type": "FASTA"
        },
        {
            "name": "trimal",
            "desc": "Trim alignment",
            "version": "1.4",
            "cmd_template": "trimal -in <step1.aln> -out <step2.aln> -automated1",
            "input_type": "MSA"
        },
        {
            "name": "fasttree",
            "desc": "Build ML Tree",
            "version": "2.1",
            "cmd_template": "FastTree -nt <step2.aln> > <step3.nwk>",
            "input_type": "MSA"
        },
        {
            "name": "nw_order",
            "desc": "Order tree nodes",
            "version": "1.6",
            "cmd_template": "nw_order <step3.nwk> > <step4.nwk>",
            "input_type": "Newick"
        },
        {
            "name": "nw_reroot",
            "desc": "Reroot tree",
            "version": "1.6",
            "cmd_template": "nw_reroot <step4.nwk> Outgroup > <step5.nwk>",
            "input_type": "Newick"
        },
        {
            "name": "nw_stats",
            "desc": "Validation: Tree statistics",
            "version": "1.6",
            "cmd_template": "nw_stats <step5.nwk>",
            "input_type": "Newick"
        }
    ],
    [
        {
            "name": "grep",
            "desc": "Remove header",
            "version": "3.4",
            "cmd_template": "grep -v 'gene_id' <input.results> > <step1.tmp>",
            "input_type": "TSV"
        },
        {
            "name": "awk",
            "desc": "Filter TPM > 1",
            "version": "gnu",
            "cmd_template": "awk '$6 > 1' <step1.tmp> > <step2.tsv>",
            "input_type": "TSV"
        },
        {
            "name": "sort",
            "desc": "Sort by TPM desc",
            "version": "8.32",
            "cmd_template": "sort -k6,6nr <step2.tsv> > <step3.tsv>",
            "input_type": "TSV"
        },
        {
            "name": "cut",
            "desc": "Extract Gene IDs",
            "version": "8.32",
            "cmd_template": "cut -f 1 <step3.tsv> > <step4.ids>",
            "input_type": "TSV"
        },
        {
            "name": "head",
            "desc": "Take top 50",
            "version": "8.32",
            "cmd_template": "head -n 50 <step4.ids> > <step5.ids>",
            "input_type": "TXT"
        },
        {
            "name": "wc",
            "desc": "Validation: Confirm count",
            "version": "8.32",
            "cmd_template": "wc -l <step5.ids>",
            "input_type": "TXT"
        }
    ],
    [
        {
            "name": "mkdir",
            "desc": "Create STAR dir",
            "version": "8.32",
            "cmd_template": "mkdir <star_dir>",
            "input_type": "None"
        },
        {
            "name": "STAR",
            "desc": "Generate STAR index",
            "version": "2.7",
            "cmd_template": "STAR --runMode genomeGenerate --genomeDir <star_dir> --genomeFastaFiles <input.fa> --sjdbGTFfile <input.gtf>",
            "input_type": "FASTA"
        },
        {
            "name": "bowtie2-build",
            "desc": "Generate Bowtie2 index",
            "version": "2.4",
            "cmd_template": "bowtie2-build <input.fa> <bt2_base>",
            "input_type": "FASTA"
        },
        {
            "name": "samtools faidx",
            "desc": "Generate FAI",
            "version": "1.10",
            "cmd_template": "samtools faidx <input.fa>",
            "input_type": "FASTA"
        },
        {
            "name": "ls",
            "desc": "List generated files",
            "version": "8.32",
            "cmd_template": "ls -lh <star_dir>",
            "input_type": "Dir"
        },
        {
            "name": "bowtie2-inspect",
            "desc": "Validation: Inspect Bowtie index",
            "version": "2.4",
            "cmd_template": "bowtie2-inspect -s <bt2_base>",
            "input_type": "Index"
        }
    ],
    [
        {
            "name": "tar",
            "desc": "Archive file",
            "version": "1.30",
            "cmd_template": "tar -cf <step1.tar> <input.file>",
            "input_type": "File"
        },
        {
            "name": "gzip",
            "desc": "Compress archive",
            "version": "1.10",
            "cmd_template": "gzip <step1.tar>",
            "input_type": "Tar"
        },
        {
            "name": "split",
            "desc": "Split into chunks",
            "version": "8.32",
            "cmd_template": "split -b 1M <step1.tar.gz> <step3.part>",
            "input_type": "Gzip"
        },
        {
            "name": "cat",
            "desc": "Reassemble chunks",
            "version": "8.32",
            "cmd_template": "cat <step3.part>* > <step4.tar.gz>",
            "input_type": "Parts"
        },
        {
            "name": "gunzip",
            "desc": "Decompress",
            "version": "1.10",
            "cmd_template": "gunzip <step4.tar.gz>",
            "input_type": "Gzip"
        },
        {
            "name": "tar_extract",
            "desc": "Extract archive",
            "version": "1.30",
            "cmd_template": "tar -xf <step4.tar>",
            "input_type": "Tar"
        },
        {
            "name": "md5sum",
            "desc": "Validation: Checksum",
            "version": "8.30",
            "cmd_template": "md5sum <input.file>",
            "input_type": "File"
        }
    ],
    [
        {
            "name": "fastqc",
            "desc": "Raw read quality control",
            "cmd_template": "fastqc <input.fastq.gz> -o <output_dir>",
            "input_type": "FASTQ"
        },
        {
            "name": "fastp",
            "desc": "Adapter trimming and filtering",
            "cmd_template": "fastp -i <input_R1.fq> -I <input_R2.fq> -o <out_R1.fq> -O <out_R2.fq>",
            "input_type": "FASTQ"
        },
        {
            "name": "bwa mem",
            "desc": "Map reads to reference genome",
            "cmd_template": "bwa mem <ref.fa> <read1.fq> <read2.fq> > <output.sam>",
            "input_type": "FASTQ & Fasta"
        },
        {
            "name": "samtools view",
            "desc": "Convert SAM to BAM",
            "cmd_template": "samtools view -bS <input.sam> > <output.bam>",
            "input_type": "SAM"
        },
        {
            "name": "samtools sort",
            "desc": "Sort BAM file by coordinates",
            "cmd_template": "samtools sort <input.bam> -o <sorted.bam>",
            "input_type": "BAM"
        },
        {
            "name": "samtools index",
            "desc": "Index sorted BAM",
            "cmd_template": "samtools index <sorted.bam>",
            "input_type": "Sorted BAM"
        }
    ],
    [
        {
            "name": "gatk MarkDuplicates",
            "desc": "Locate and tag duplicate reads",
            "cmd_template": "gatk MarkDuplicates -I <input.bam> -O <marked.bam> -M <metrics.txt>",
            "input_type": "Sorted BAM"
        },
        {
            "name": "samtools index",
            "desc": "Index marked BAM",
            "cmd_template": "samtools index <marked.bam>",
            "input_type": "BAM"
        },
        {
            "name": "gatk BaseRecalibrator",
            "desc": "Generate BQSR recalibration table",
            "cmd_template": "gatk BaseRecalibrator -I <marked.bam> -R <ref.fa> --known-sites <vcf> -O <recal.table>",
            "input_type": "BAM & VCF"
        },
        {
            "name": "gatk ApplyBQSR",
            "desc": "Apply BQSR to BAM",
            "cmd_template": "gatk ApplyBQSR -I <marked.bam> -R <ref.fa> --bqsr-recal-file <recal.table> -O <final.bam>",
            "input_type": "BAM & Table"
        },
        {
            "name": "gatk HaplotypeCaller",
            "desc": "Call germline SNPs and indels",
            "cmd_template": "gatk HaplotypeCaller -R <ref.fa> -I <final.bam> -O <output.vcf.gz>",
            "input_type": "BAM"
        },
        {
            "name": "bcftools stats",
            "desc": "VCF statistics summary",
            "cmd_template": "bcftools stats <output.vcf.gz> > <stats.txt>",
            "input_type": "VCF"
        }
    ],
    [
        {
            "name": "STAR --runMode genomeGenerate",
            "desc": "Build STAR index",
            "cmd_template": "STAR --runMode genomeGenerate --genomeDir <dir> --genomeFastaFiles <ref.fa> --sjdbGTFfile <anno.gtf>",
            "input_type": "Fasta & GTF"
        },
        {
            "name": "STAR --runMode alignReads",
            "desc": "RNA-seq alignment",
            "cmd_template": "STAR --genomeDir <dir> --readFilesIn <fq1> <fq2> --outSAMtype BAM SortedByCoordinate",
            "input_type": "FASTQ"
        },
        {
            "name": "samtools index",
            "desc": "Index STAR BAM",
            "cmd_template": "samtools index <Aligned.sortedByCoord.out.bam>",
            "input_type": "Sorted BAM"
        },
        {
            "name": "featureCounts",
            "desc": "Quantify gene expression",
            "cmd_template": "featureCounts -a <anno.gtf> -o <counts.txt> <input.bam>",
            "input_type": "BAM & GTF"
        },
        {
            "name": "cut",
            "desc": "Extract count column",
            "cmd_template": "cut -f1,7 <counts.txt> > <simple_counts.tsv>",
            "input_type": "Text"
        },
        {
            "name": "multiqc",
            "desc": "Aggregate QC reports",
            "cmd_template": "multiqc .",
            "input_type": "Reports Dir"
        }
    ],
    [
        {
            "name": "kraken2",
            "desc": "Taxonomic classification",
            "cmd_template": "kraken2 --db <db> --paired <r1.fq> <r2.fq> --report <report.txt>",
            "input_type": "FASTQ"
        },
        {
            "name": "bracken",
            "desc": "Estimate abundance at species level",
            "cmd_template": "bracken -d <db> -i <report.txt> -o <species.bracken>",
            "input_type": "Kraken Report"
        },
        {
            "name": "kraken-biom",
            "desc": "Convert report to BIOM format",
            "cmd_template": "kraken-biom <report.txt> --format json -o <output.biom>",
            "input_type": "Kraken Report"
        },
        {
            "name": "sed",
            "desc": "Clean taxon names",
            "cmd_template": "sed 's/s__//g' <species.bracken> > <clean.txt>",
            "input_type": "Text"
        },
        {
            "name": "awk",
            "desc": "Filter high abundance taxa",
            "cmd_template": "awk '$7 > 0.01' <clean.txt> > <filtered.txt>",
            "input_type": "Text"
        },
        {
            "name": "seqkit stats",
            "desc": "Check input read stats",
            "cmd_template": "seqkit stats <r1.fq>",
            "input_type": "FASTQ"
        }
    ],
    [
        {
            "name": "spades.py",
            "desc": "De novo genome assembly",
            "cmd_template": "spades.py -1 <r1.fq> -2 <r2.fq> -o <output_dir>",
            "input_type": "FASTQ"
        },
        {
            "name": "quast.py",
            "desc": "Evaluate assembly quality",
            "cmd_template": "quast.py <contigs.fasta> -o <quast_out>",
            "input_type": "Fasta"
        },
        {
            "name": "busco",
            "desc": "Assess assembly completeness",
            "cmd_template": "busco -i <contigs.fasta> -l <lineage> -o <busco_out> -m genome",
            "input_type": "Fasta"
        },
        {
            "name": "prokka",
            "desc": "Annotate bacterial genome",
            "cmd_template": "prokka --outdir <anno_dir> --prefix genome <contigs.fasta>",
            "input_type": "Fasta"
        },
        {
            "name": "samtools faidx",
            "desc": "Index final assembly",
            "cmd_template": "samtools faidx <genome.fna>",
            "input_type": "Fasta"
        },
        {
            "name": "seqkit fx2tab",
            "desc": "Convert fasta to tabular format",
            "cmd_template": "seqkit fx2tab <genome.fna> > <genome.tab>",
            "input_type": "Fasta"
        }
    ],
    [
        {
            "name": "bowtie2-build",
            "desc": "Build Bowtie2 index",
            "cmd_template": "bowtie2-build <ref.fa> <idx_base>",
            "input_type": "Fasta"
        },
        {
            "name": "bowtie2",
            "desc": "ChIP-seq read mapping",
            "cmd_template": "bowtie2 -x <idx_base> -1 <r1.fq> -2 <r2.fq> -S <output.sam>",
            "input_type": "FASTQ"
        },
        {
            "name": "samtools sort",
            "desc": "Sort ChIP-seq BAM",
            "cmd_template": "samtools sort <input.sam> -o <sorted.bam>",
            "input_type": "SAM"
        },
        {
            "name": "macs2 callpeak",
            "desc": "Peak calling",
            "cmd_template": "macs2 callpeak -t <treatment.bam> -c <control.bam> -f BAM -n <experiment_name>",
            "input_type": "BAM"
        },
        {
            "name": "bedtools intersect",
            "desc": "Overlap peaks with promoters",
            "cmd_template": "bedtools intersect -a <peaks.bed> -b <promoters.bed> > <overlap.bed>",
            "input_type": "BED"
        },
        {
            "name": "deeptools bamCoverage",
            "desc": "Generate BigWig for IGV",
            "cmd_template": "bamCoverage -b <sorted.bam> -o <output.bw>",
            "input_type": "Sorted BAM"
        }
    ],
    [
        {
            "name": "minimap2",
            "desc": "Long-read alignment (Nanopore/PacBio)",
            "cmd_template": "minimap2 -ax map-ont <ref.fa> <reads.fq> > <output.sam>",
            "input_type": "Fasta & FASTQ"
        },
        {
            "name": "samtools view",
            "desc": "Convert long-read SAM to BAM",
            "cmd_template": "samtools view -ubS <output.sam> | samtools sort -o <sorted.bam>",
            "input_type": "SAM"
        },
        {
            "name": "samtools index",
            "desc": "Index long-read BAM",
            "cmd_template": "samtools index <sorted.bam>",
            "input_type": "Sorted BAM"
        },
        {
            "name": "nanoplot",
            "desc": "Quality control for long reads",
            "cmd_template": "NanoPlot --summary <sequencing_summary.txt> --loglength -o <plot_dir>",
            "input_type": "Text Summary"
        },
        {
            "name": "flye",
            "desc": "Long-read de novo assembly",
            "cmd_template": "flye --nano-raw <reads.fq> --out-dir <assembly_dir>",
            "input_type": "FASTQ"
        },
        {
            "name": "medaka_consensus",
            "desc": "Polish assembly with medaka",
            "cmd_template": "medaka_consensus -i <reads.fq> -d <assembly.fa> -o <polished_dir>",
            "input_type": "FASTQ & Fasta"
        }
    ],
    [
        {
            "name": "bcftools view",
            "desc": "Subset VCF by sample",
            "cmd_template": "bcftools view -s <sample_id> <input.vcf.gz> > <sample.vcf>",
            "input_type": "VCF"
        },
        {
            "name": "bcftools filter",
            "desc": "Filter low quality variants",
            "cmd_template": "bcftools filter -i 'QUAL>30 && DP>10' <sample.vcf> -o <filtered.vcf>",
            "input_type": "VCF"
        },
        {
            "name": "vt normalize",
            "desc": "Normalize variants",
            "cmd_template": "vt normalize <filtered.vcf> -r <ref.fa> -o <norm.vcf>",
            "input_type": "VCF & Fasta"
        },
        {
            "name": "snpEff",
            "desc": "Annotate variant effects",
            "cmd_template": "snpEff <db_version> <norm.vcf> > <annotated.vcf>",
            "input_type": "VCF"
        },
        {
            "name": "bgzip",
            "desc": "Compress VCF",
            "cmd_template": "bgzip <annotated.vcf>",
            "input_type": "VCF"
        },
        {
            "name": "tabix",
            "desc": "Index VCF",
            "cmd_template": "tabix -p vcf <annotated.vcf.gz>",
            "input_type": "VCF.GZ"
        }
    ],
    [
        {
            "name": "mafft",
            "desc": "Multiple sequence alignment",
            "cmd_template": "mafft --auto <input.fa> > <aligned.fa>",
            "input_type": "Fasta"
        },
        {
            "name": "trimal",
            "desc": "Trim poorly aligned regions",
            "cmd_template": "trimal -in <aligned.fa> -out <trimmed.fa> -automated1",
            "input_type": "Fasta (Aligned)"
        },
        {
            "name": "iqtree",
            "desc": "Phylogenetic tree construction",
            "cmd_template": "iqtree -s <trimmed.fa> -m MFP -bb 1000 -nt AUTO",
            "input_type": "Fasta (Trimmed)"
        },
        {
            "name": "figtree",
            "desc": "Command-line tree rendering (Mock)",
            "cmd_template": "figtree -graphic PDF <tree.nwk> <output.pdf>",
            "input_type": "Newick"
        },
        {
            "name": "seqkit sort",
            "desc": "Sort fasta by ID",
            "cmd_template": "seqkit sort -n <input.fa> > <sorted.fa>",
            "input_type": "Fasta"
        },
        {
            "name": "newick-utils nw_display",
            "desc": "Display tree in terminal",
            "cmd_template": "nw_display <tree.nwk>",
            "input_type": "Newick"
        }
    ],
    [
        {
            "name": "salmon index",
            "desc": "Index transcriptome",
            "cmd_template": "salmon index -t <transcripts.fa> -i <idx_dir>",
            "input_type": "Fasta"
        },
        {
            "name": "salmon quant",
            "desc": "Transcript-level quantification",
            "cmd_template": "salmon quant -i <idx_dir> -l A -1 <r1.fq> -2 <r2.fq> -o <quant_dir>",
            "input_type": "FASTQ"
        },
        {
            "name": "sed",
            "desc": "Cleanup Salmon output header",
            "cmd_template": "sed 's/|//g' <quant.sf> > <clean_quant.sf>",
            "input_type": "SF file"
        },
        {
            "name": "awk",
            "desc": "Filter high TPM transcripts",
            "cmd_template": "awk '$4 > 10' <clean_quant.sf> > <high_expr.txt>",
            "input_type": "SF file"
        },
        {
            "name": "grep",
            "desc": "Search for specific gene",
            "cmd_template": "grep 'GAPDH' <high_expr.txt> > <gapdh_check.txt>",
            "input_type": "Text"
        },
        {
            "name": "column",
            "desc": "Format output table",
            "cmd_template": "column -t <gapdh_check.txt>",
            "input_type": "Text"
        }
    ],
    [
        {
            "name": "hisat2-build",
            "desc": "Build HISAT2 index",
            "cmd_template": "hisat2-build <ref.fa> <idx_base>",
            "input_type": "Fasta"
        },
        {
            "name": "hisat2",
            "desc": "Map RNA-seq reads",
            "cmd_template": "hisat2 -x <idx_base> -1 <r1.fq> -2 <r2.fq> -S <output.sam>",
            "input_type": "FASTQ"
        },
        {
            "name": "samtools sort",
            "desc": "Sort HISAT2 alignment",
            "cmd_template": "samtools sort <output.sam> -o <sorted.bam>",
            "input_type": "SAM"
        },
        {
            "name": "stringtie",
            "desc": "Transcript assembly",
            "cmd_template": "stringtie <sorted.bam> -o <output.gtf> -G <ref.gtf>",
            "input_type": "BAM & GTF"
        },
        {
            "name": "gffcompare",
            "desc": "Compare assembly to reference",
            "cmd_template": "gffcompare -r <ref.gtf> -o <cmp_out> <output.gtf>",
            "input_type": "GTF"
        },
        {
            "name": "bedtools intersect",
            "desc": "Check coverage of exons",
            "cmd_template": "bedtools intersect -a <output.gtf> -b <exons.bed> -f 1.0 > <validated.gtf>",
            "input_type": "GTF & BED"
        }
    ],
    [
        {
            "name": "bedtools slop",
            "desc": "Increase BED intervals",
            "cmd_template": "bedtools slop -i <input.bed> -g <chrom.sizes> -b 100 > <slop.bed>",
            "input_type": "BED & Sizes"
        },
        {
            "name": "bedtools complement",
            "desc": "Find genomic gaps",
            "cmd_template": "bedtools complement -i <slop.bed> -g <chrom.sizes> > <gaps.bed>",
            "input_type": "BED & Sizes"
        },
        {
            "name": "bedtools merge",
            "desc": "Merge overlapping intervals",
            "cmd_template": "bedtools merge -i <gaps.bed> > <merged_gaps.bed>",
            "input_type": "BED"
        },
        {
            "name": "bedtools getfasta",
            "desc": "Extract gap sequences",
            "cmd_template": "bedtools getfasta -fi <ref.fa> -bed <merged_gaps.bed> -fo <gaps.fa>",
            "input_type": "BED & Fasta"
        },
        {
            "name": "seqkit stats",
            "desc": "Stats of gap sequences",
            "cmd_template": "seqkit stats <gaps.fa>",
            "input_type": "Fasta"
        },
        {
            "name": "grep",
            "desc": "Count N bases in gaps",
            "cmd_template": "grep -o 'N' <gaps.fa> | wc -l",
            "input_type": "Fasta"
        }
    ],
    [
        {
            "name": "blastn",
            "desc": "Nucleotide BLAST search",
            "cmd_template": "blastn -query <input.fa> -db <db_name> -out <results.txt> -outfmt 6",
            "input_type": "Fasta"
        },
        {
            "name": "awk",
            "desc": "Filter BLAST hits by identity",
            "cmd_template": "awk '$3 > 90' <results.txt> > <filtered_hits.txt>",
            "input_type": "BLAST fmt6"
        },
        {
            "name": "sort",
            "desc": "Sort hits by bitscore",
            "cmd_template": "sort -k12,12rn <filtered_hits.txt> > <sorted_hits.txt>",
            "input_type": "Text"
        },
        {
            "name": "cut",
            "desc": "Get unique hit IDs",
            "cmd_template": "cut -f2 <sorted_hits.txt> | sort | uniq > <hit_ids.txt>",
            "input_type": "Text"
        },
        {
            "name": "blastdbcmd",
            "desc": "Retrieve sequences from DB",
            "cmd_template": "blastdbcmd -db <db_name> -entry_batch <hit_ids.txt> -out <hit_seqs.fa>",
            "input_type": "ID List"
        },
        {
            "name": "seqkit head",
            "desc": "Preview top sequences",
            "cmd_template": "seqkit head -n 10 <hit_seqs.fa>",
            "input_type": "Fasta"
        }
    ],
    [
        {
            "name": "cellranger mkfastq",
            "desc": "Demultiplex scRNA-seq",
            "cmd_template": "cellranger mkfastq --id <id> --run <run_dir> --csv <sample_sheet>",
            "input_type": "BCL"
        },
        {
            "name": "cellranger count",
            "desc": "Align scRNA-seq and count",
            "cmd_template": "cellranger count --id <id> --transcriptome <ref> --fastqs <fq_dir>",
            "input_type": "FASTQ"
        },
        {
            "name": "samtools index",
            "desc": "Index CellRanger BAM",
            "cmd_template": "samtools index <possorted_genome_bam.bam>",
            "input_type": "BAM"
        },
        {
            "name": "velocyto run",
            "desc": "Generate loom file for RNA velocity",
            "cmd_template": "velocyto run <possorted_genome_bam.bam> <anno.gtf>",
            "input_type": "BAM & GTF"
        },
        {
            "name": "python",
            "desc": "Basic Scanpy QC script",
            "cmd_template": "python scanpy_qc.py <raw_counts.h5ad>",
            "input_type": "H5AD"
        },
        {
            "name": "gzip",
            "desc": "Compress matrix files",
            "cmd_template": "gzip <matrix.mtx>",
            "input_type": "MTX"
        }
    ],
    [
        {
            "name": "trimmomatic",
            "desc": "Filter Nextera adapters",
            "cmd_template": "trimmomatic PE <in1> <in2> <out1> <un1> <out2> <un2> ILLUMINACLIP:NexteraPE-PE.fa:2:30:10",
            "input_type": "FASTQ"
        },
        {
            "name": "bwa index",
            "desc": "Index host genome",
            "cmd_template": "bwa index <host.fa>",
            "input_type": "Fasta"
        },
        {
            "name": "bwa mem",
            "desc": "Map to host to remove contamination",
            "cmd_template": "bwa mem <host.fa> <trimmed_r1> <trimmed_r2> > <host_mapped.sam>",
            "input_type": "FASTQ"
        },
        {
            "name": "samtools view",
            "desc": "Get unmapped reads",
            "cmd_template": "samtools view -b -f 12 <host_mapped.sam> > <unmapped.bam>",
            "input_type": "SAM"
        },
        {
            "name": "samtools fastq",
            "desc": "Convert BAM back to FASTQ",
            "cmd_template": "samtools fastq <unmapped.bam> -1 <clean_r1.fq> -2 <clean_r2.fq>",
            "input_type": "BAM"
        },
        {
            "name": "seqkit stats",
            "desc": "Final decontamination stats",
            "cmd_template": "seqkit stats <clean_r1.fq>",
            "input_type": "FASTQ"
        }
    ],
    [
        {
            "name": "mummer nucmer",
            "desc": "Whole genome alignment",
            "cmd_template": "nucmer -p <prefix> <ref.fa> <query.fa>",
            "input_type": "Fasta"
        },
        {
            "name": "delta-filter",
            "desc": "Filter alignment for 1-to-1 mapping",
            "cmd_template": "delta-filter -1 <prefix.delta> > <filtered.delta>",
            "input_type": "Delta file"
        },
        {
            "name": "show-coords",
            "desc": "Convert delta to tabular",
            "cmd_template": "show-coords -rcl <filtered.delta> > <coords.txt>",
            "input_type": "Delta file"
        },
        {
            "name": "awk",
            "desc": "Identify large structural variants",
            "cmd_template": "awk '$5 > 1000' <coords.txt> > <large_sv.txt>",
            "input_type": "Text"
        },
        {
            "name": "mummerplot",
            "desc": "Generate dot plot",
            "cmd_template": "mummerplot --postscript <filtered.delta> -p <plot_prefix>",
            "input_type": "Delta file"
        },
        {
            "name": "ps2pdf",
            "desc": "Convert plot to PDF",
            "cmd_template": "ps2pdf <plot_prefix.ps> <plot_prefix.pdf>",
            "input_type": "PostScript"
        }
    ],
    [
        {
            "name": "eggnog-mapper",
            "desc": "Functional annotation",
            "cmd_template": "emapper.py -i <proteins.fa> -o <output_base> --cpu 8",
            "input_type": "Fasta (Protein)"
        },
        {
            "name": "grep",
            "desc": "Filter GO terms",
            "cmd_template": "grep 'GO:' <output.emapper.annotations> > <go_only.txt>",
            "input_type": "Tabular"
        },
        {
            "name": "cut",
            "desc": "Extract gene IDs and GO terms",
            "cmd_template": "cut -f1,10 <go_only.txt> > <gene_go.map>",
            "input_type": "Text"
        },
        {
            "name": "sed",
            "desc": "Reformat GO terms list",
            "cmd_template": "sed 's/,/\n/g' <gene_go.map> > <flattened.txt>",
            "input_type": "Text"
        },
        {
            "name": "sort",
            "desc": "Sort GO terms",
            "cmd_template": "sort <flattened.txt> | uniq -c > <go_counts.txt>",
            "input_type": "Text"
        },
        {
            "name": "head",
            "desc": "Get top 10 GO terms",
            "cmd_template": "head -n 10 <go_counts.txt>",
            "input_type": "Text"
        }
    ],
    [
        {
            "name": "metabat2",
            "desc": "Metagenomic binning",
            "cmd_template": "metabat2 -i <contigs.fasta> -a <depth.txt> -o <bins_dir>/bin",
            "input_type": "Fasta & Depth"
        },
        {
            "name": "checkm lineage_wf",
            "desc": "Evaluate bin quality",
            "cmd_template": "checkm lineage_wf <bins_dir> <checkm_out>",
            "input_type": "Fasta Bins"
        },
        {
            "name": "gtdbtk classify_wf",
            "desc": "Taxonomic bin assignment",
            "cmd_template": "gtdbtk classify_wf --genome_dir <bins_dir> --out_dir <gtdb_out>",
            "input_type": "Fasta Bins"
        },
        {
            "name": "awk",
            "desc": "Filter high quality bins",
            "cmd_template": "awk '$2 > 90 && $3 < 5' <checkm_summary.txt> > <hq_bins.txt>",
            "input_type": "Text"
        },
        {
            "name": "cp",
            "desc": "Collect HQ bins",
            "cmd_template": "cat <hq_bins.txt> | xargs -I {} cp <bins_dir>/{}.fa <hq_bins_dir>/",
            "input_type": "Text"
        },
        {
            "name": "seqkit stats",
            "desc": "Summary of HQ bins",
            "cmd_template": "seqkit stats <hq_bins_dir>/*.fa",
            "input_type": "Fasta"
        }
    ],
    [
        {
            "name": "vcf-tools --freq",
            "desc": "Calculate allele frequency",
            "cmd_template": "vcftools --vcf <input.vcf> --freq --out <freq_out>",
            "input_type": "VCF"
        },
        {
            "name": "vcf-tools --window-pi",
            "desc": "Calculate nucleotide diversity",
            "cmd_template": "vcftools --vcf <input.vcf> --window-pi 10000 --out <pi_out>",
            "input_type": "VCF"
        },
        {
            "name": "awk",
            "desc": "Filter regions with high Pi",
            "cmd_template": "awk '$5 > 0.01' <pi_out.windowed.pi> > <high_pi.bed>",
            "input_type": "Text"
        },
        {
            "name": "bedtools intersect",
            "desc": "Find genes in high Pi regions",
            "cmd_template": "bedtools intersect -a <genes.bed> -b <high_pi.bed> > <target_genes.bed>",
            "input_type": "BED"
        },
        {
            "name": "sort",
            "desc": "Sort target genes",
            "cmd_template": "sort -u <target_genes.bed> > <unique_targets.bed>",
            "input_type": "BED"
        },
        {
            "name": "wc -l",
            "desc": "Count target genes",
            "cmd_template": "wc -l <unique_targets.bed>",
            "input_type": "BED"
        }
    ],
    [
        {
            "name": "prokka",
            "desc": "Initial annotation",
            "cmd_template": "prokka --prefix <sample> <asm.fa>",
            "input_type": "Fasta"
        },
        {
            "name": "blastp",
            "desc": "Search against SwissProt",
            "cmd_template": "blastp -query <sample.faa> -db swissprot -out <swissprot.fmt6> -outfmt 6",
            "input_type": "Fasta (Protein)"
        },
        {
            "name": "interproscan.sh",
            "desc": "Domain search",
            "cmd_template": "interproscan.sh -i <sample.faa> -f TSV -o <domains.tsv>",
            "input_type": "Fasta (Protein)"
        },
        {
            "name": "signalp",
            "desc": "Predict signal peptides",
            "cmd_template": "signalp -fasta <sample.faa> -org gram- -format short -prefix <sigp_out>",
            "input_type": "Fasta (Protein)"
        },
        {
            "name": "tmhmm",
            "desc": "Predict transmembrane helices",
            "cmd_template": "tmhmm <sample.faa> > <tmhmm.txt>",
            "input_type": "Fasta (Protein)"
        },
        {
            "name": "python merge_anno.py",
            "desc": "Custom script to merge results",
            "cmd_template": "python merge_anno.py <prokka.gff> <swissprot.fmt6> <domains.tsv> > <final.gff>",
            "input_type": "GFF & TSV"
        }
    ]
]